<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FlowChartTool Lite</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div class="title-block">
      <div class="logo">FC</div>
      <div>
        <h1>FlowChartTool Lite</h1>
        <div class="tagline">ドラッグ＆ドロップで図を組み立て、クリックで接続</div>
        <div class="tagline" id="appVersion">Version: -</div>
      </div>
    </div>
    <div class="toolbar">
      <button class="btn primary" id="addStart">Start</button>
      <button class="btn primary" id="addProcess">Process</button>
      <button class="btn primary" id="addDecision">Decision</button>
      <button class="btn primary" id="addIO">Input/Output</button>
      <button class="btn primary" id="addDashed">Dashed</button>
      <button class="btn primary" id="addText">Text</button>
      <button class="btn secondary" id="toggleArrow">Arrow: ON</button>
      <button class="btn secondary" id="togglePanSelect">Pan</button>
      <button class="btn secondary" id="toggleConnect">Connect</button>
      <button class="btn ghost" id="toggleSidebar">Hide Shapes</button>

      <select class="btn ghost" id="defaultLinkStyle">
        <option value="curve">Curve</option>
        <option value="straight">Straight</option>
        <option value="orthogonal">Orthogonal</option>
      </select>
      <button class="btn ghost" id="groupNodes">Group</button>
      <button class="btn ghost" id="ungroupNodes">Ungroup</button>
      <button class="btn ghost" id="zoomOut">Zoom -</button>
      <button class="btn ghost" id="zoomReset">Zoom 100%</button>
      <button class="btn ghost" id="zoomIn">Zoom +</button>
    </div>
  </header>

  <main>
    <section class="panel shapes-panel">
      <details class="accordion">
        <summary>Shapes</summary>
        <div class="shape-list">
          <div class="shape-card">
            <div class="shape-preview">Start</div>
            <button data-add="start">追加</button>
          </div>
          <div class="shape-card">
            <div class="shape-preview">Proc</div>
            <button data-add="process">追加</button>
          </div>
          <div class="shape-card">
            <div class="shape-preview">Yes/No</div>
            <button data-add="decision">追加</button>
          </div>
          <div class="shape-card">
            <div class="shape-preview">IO</div>
            <button data-add="io">追加</button>
          </div>
          <div class="shape-card">
            <div class="shape-preview">Dash</div>
            <button data-add="dashed">追加</button>
          </div>
          <div class="shape-card">
            <div class="shape-preview">Text</div>
            <button data-add="text">追加</button>
          </div>
        </div>
      </details>

      <details class="accordion">
        <summary>Tips</summary>
        <div class="stacked">
          <div class="hint">・ノードをドラッグで移動</div>
          <div class="hint">・Connectモードで2つのノードをクリック</div>
          <div class="hint">・選択中のノードは右側で編集</div>
        </div>
      </details>

      <div class="stacked">
        <h2>Project</h2>
        <button class="btn" id="exportJson">JSON Export</button>
        <button class="btn" id="importJson">JSON Import</button>
        <input id="fileInput" type="file" accept="application/json" hidden />
        <div class="stacked">
          <button class="btn ghost" id="toggleMindmap">Mindmap: OFF</button>
          <button class="btn ghost" id="exportPng">PNG Export</button>
          <div class="stacked">
            <button class="btn ghost" id="toggleSnap">Snap: ON</button>
            <input class="btn ghost" type="number" id="snapSizeInput" min="2" max="50" value="10" />
          </div>
        </div>
        <button class="btn ghost" id="copySelection">Copy</button>
      </div>
    </section>

    <section class="canvas-wrap">
      <div class="canvas-toolbar">
        <span id="modeLabel">MODE: MOVE</span>
        <span class="zoom-indicator" id="stats">Nodes 0 | Links 0</span>
      </div>
      <div class="canvas-area" id="canvasArea">
        <div class="grid"></div>
        <svg id="canvas" viewBox="0 0 1200 900" preserveAspectRatio="xMidYMid meet">
          <defs>
            <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="12" markerHeight="12" orient="auto-start-reverse">
              <path d="M 0 0 L 10 5 L 0 10 z" fill="#2a9d8f"></path>
            </marker>
          </defs>
        </svg>
      </div>
    </section>

    <section class="panel inspector-panel">
      <div class="inspector">
        <h2>Inspector</h2>
        <div id="inspectorFields" class="properties" hidden>
          <label>ラベル
            <textarea id="labelInput" rows="2"></textarea>
          </label>
          <label>幅
            <input type="number" id="widthInput" min="80" max="300" />
          </label>
          <label>高さ
            <input type="number" id="heightInput" min="50" max="200" />
          </label>
          <label>色
            <select id="colorInput">
              <option value="#ffffff">ホワイト</option>
              <option value="#fff1e6">サンド</option>
              <option value="#e9f5db">ミント</option>
              <option value="#e0f7ff">スカイ</option>
              <option value="#fde2e4">ローズ</option>
              <option value="#f8edeb">ピンクベージュ</option>
              <option value="#fef9c3">レモン</option>
              <option value="#d8f3dc">セージ</option>
              <option value="#cfe1ff">ブルーグレー</option>
              <option value="#f4f1de">クリーム</option>
            </select>
            <input type="color" id="colorPicker" value="#ffffff" />
          </label>
          <label>文字サイズ
            <input type="number" id="fontSizeInput" min="10" max="36" />
          </label>
          <div class="btn-row">
            <button class="btn ghost" id="alignLeft">左揃え</button>
            <button class="btn ghost" id="alignCenter">左右中央</button>
            <button class="btn ghost" id="alignRight">右揃え</button>
          </div>
          <div class="btn-row">
            <button class="btn ghost" id="alignTop">上揃え</button>
            <button class="btn ghost" id="alignMiddle">上下中央</button>
            <button class="btn ghost" id="alignBottom">下揃え</button>
          </div>
          <button class="btn ghost" id="sendToBack">最背面へ</button>
          <button class="btn ghost" id="deleteNode">Delete</button>
        </div>
        <div id="inspectorLink" class="properties" hidden>
          <label>矢印
            <select id="linkArrowSelect">
              <option value="on">あり</option>
              <option value="off">なし</option>
            </select>
          </label>
          <label>線の種類
            <select id="linkStyleSelect">
              <option value="curve">曲線</option>
              <option value="straight">直線</option>
              <option value="orthogonal">直角</option>
            </select>
          </label>
          <label>開始側（From）
            <select id="fromSideSelect">
              <option value="left">左</option>
              <option value="right">右</option>
              <option value="top">上</option>
              <option value="bottom">下</option>
            </select>
          </label>
          <label>接続側（To）
            <select id="toSideSelect">
              <option value="left">左</option>
              <option value="right">右</option>
              <option value="top">上</option>
              <option value="bottom">下</option>
            </select>
          </label>
        </div>
        <div class="properties">
          <label>Undoスタック最大
            <input type="number" id="undoLimitInput" min="1" max="200" value="50" />
          </label>
        </div>
        <div id="inspectorEmpty" class="empty">ノードを選択すると編集できます。</div>
      </div>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>


